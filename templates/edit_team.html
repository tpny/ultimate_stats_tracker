{% extends "base.html" %}
{% block list_teams_active %}active{% endblock %}
{% block list_manage_team %}Return to Manage Teams{% endblock %}
{% block content %}
<div {% if error|length == 0 %} hidden {% endif %}class="alert alert-warning" role="alert">
    {{error}}
</div>
<h1 class="text-center">{{curr_team_name}}</h1>
<form action="" method="post" class="row text-end d-flex justify-content-end">
  <div class="col-auto">
    <input type="text" name="new_name" placeholder="New Team Name" class="form-control" required>
  </div>
  <div class="col-auto">
    <input type="submit" name="button" class="btn btn-primary" value="Rename Team" >
  </div>
</form>
<div class="table-responsive">
  <table class="table">
    <thead>
      <tr>
      <th scope="col">Player Name</th>
      <th scope="col">Player ID</th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
    <tr>
    <form action="" method="post" class="form-control">
      <th scope="row">
        <input type="text" name="player_name" class="form-control" placeholder="" required>
      </th>
      <td></td>
      <td>
        <input type="submit" name="button" class="btn btn-primary form-control" value="Create New Player" >
      </td>
      <td></td>
      <td></td>
    </form>
    </tr>
    <tr>
    <form action="" method="post" class="form-control">
      <th scope="row">
        <select class="form-select" name="player_name">
          {% for player_name  in base_players %}
          <option value="{{player_name}}" >{{player_name}}</option>
          {% endfor %}
        </select>
      </th>
      <td></td>
      <td>
        <input type="submit" name="button" class="btn btn-primary form-control" value="Add Existing Player" >
      </td>
      <td></td>
      <td></td>
    </form>
    </tr>

    {% for player_id, player_name, transferable_team in team_players_info %}
    <tr>
      <form action="" method="post"  class="form-control">
        <input type="hidden" name="player_id" value="{{player_id}}" >
        <th scope="row"><input type="text" readonly class="form-control-plaintext fw-bold" value="{{player_name}}"></th>
        <td><input type="text" readonly class="form-control-plaintext" value="{{player_id}}"></td>
        <td>
          <input type="submit" name="button" class="btn btn-primary form-control" value="View Stats" >
        </td>
        <td class="d-flex flex-nowrap">
          <select class="form-select form" name="new_team">
            {% for team_name in transferable_team %}
            <option value="{{team_name}}" {% if team_name == curr_team_name %} selected {% endif %}>{{team_name}}</option>
            {% endfor %}
          </select>
          <input type="submit" name="button" class="btn btn-primary form-control" value="Transfer Player" >
        </td>
        <td class="text-end">
          <input type="submit" name="button" class="btn btn-warning form-control" value="Remove Player From Team" >
        </td>
      </form>
    </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}


  <!--     <td>
        <form action="" method="post">
          <input type="hidden" name="player_name" value="{{player}}" >
          <input type="text" name="new_name" placeholder="" required>
          <input type="submit" name="button" class="btn btn-primary" value="Rename Player" >
        </form>
      </td> -->